# Week2. 클라우드 컴퓨팅과 인공지능 환경

## 2.1. 병렬 컴퓨팅 (Parallel Computing)

- 병렬 컴퓨팅 : 연산하는 컴퓨터가 여러 대 협력해서 진행함으로써 연산 능력을 높이는 하이 퍼포먼스 커뮤팅
  - 대규모 데이터 처리, 고속연산을 필요로 하는 분야 출현
  - 이학, 공학의 모델링, 시뮬레이션 실험
  - 대기 한계치 내에 실행 완료해야 하는 문제/분야의 해결방안
  - 이전에 불가능한 것으로 다루지 않던(포기한) 영역에서 계산/도전 욕구

- 빠른 CPU 개발의 3가지 장벽

  - Frequency Wall

    - 우리 컴퓨터 내에 연산을 하는 핵심장치인 프로세서를 빨리 동작시키려면 클락의 동작 속도를 빨리 하는 것. 주파스를 늘려서 빨라지게 하는 것
    - 요즘 프로세서의 클락이 4GHZ로 10배 증가하면 10배 빨리 진행되기에 시간이 1/10 소요되는데 이게 너무 빠른 상태라 ic내부에 있는 게이트나 소규모 장치들이 따라 갈 수도 없고 이렇게 빨리 동작하는 소자를 만드는 기술도 없음 -> 주파스를 늘려서 동작시크는 것은 거의 한계점에 도달
    - 즉, 파이프라인 방식의 속도향상을 얻기 위한 분할 실행의 극값에 도달하여 주파수가 높아져도 향상되지 않게 된다

  - Power Wall

    - 단위면적당 방열의 최대치에 도달하여 집적도를 향상시키는 한계에 도달
    - 반도체 내에서 소자들을 빨리 동작시키려면 소자의 물리적인 크기를 줄여야. 이러면 소자로 이동하는 전자의 이동시간이 줄기에 전류도 적게 흘려도 됨. 다만 아주 좁은 공간으로 전자가 이동하는 과정에서 저항이 커지기에 열손실 발생 -> 열밀도가  커져서 주변을 녹여버림

  - Memory Wall

    - 메모리인 ram에서 데이터를 가져와서 프로세서가 가공하고 연산해서 결과를 쓰고 다시 돌려 보내는 과정이 이어지는데 성능을 높이기 위해서 프로세서 속도를 올려 놓으면 메모리도 같은 속도로 빨라져야 함 -> 이게 어려움

      Because 프로세서의 면적이나 차지하는 공간에 비해 메모리는 영역의 규모가 수천 배 수만 배 크기에. 여기서 빠른 속도로 동작시크넌 것은 비용도 많이 들고 기술도 그만큼 발전되어 있지X

    - 즉, 프로세서의 빠른 동작에 비해 D-RAM의 속도차가 너무 커 연산력이 더 이상 늘어나지 않는다

  - 프로세서의 속도를 높일 수 있는 방법이 없을까?

    - 여러 개의 프로세서로 작업을 분할해서 진행하는 것은 어떨까?
    - 그렇기에 병렬 컴퓨팅이 작업 처리 속도를 향상하는데 유용한 수단이 될 수 있음 

- 병렬 연산의 동기

  - 속도 향상
  - 안정성(고장 감내)
  - 대규모 주 메모리
  - 복합기능 등

- 속도 향상 (Speedup)

  - S(P) = ts/tp
  - ts : 단일 프로세서로 계산에 소요된 시간
  - tp : p프로세서로 실행할 때 소요(단축)된 시간
  - p : 연산에 동원된 프로세서 수

- 벙렬 컴퓨팅 사례

  - 날씨 예보 프로그램

    - 지구상에 대기권 내에서 여러가지 상황에 따라서 일정 시간 후 어떻게 변화하는지 알려줌 -> 시뮬레이션을 통해 날씨가 변해가는 과정을 컴퓨터에서 찾아가는 것
    - 지구상의 공간을 컴퓨터에 넣어서 공간 하나하나 위치의 기상조건을 찾아내야 함 -> 지상 부분을 분할해서 계산 (고도 연산) 
    - 3차원 공간을 육면체 cell (L x W x H)로 분할하여 계산
    - 매 시간간격마다 모든 셀들의 기후조건을 반복적으로 계산함

    - 해당 지역의 기상 값을 만들기 위한 육면체의 크기를 가장 먼저 정해야함
    - Cell 크기  : 1mile x 1mile x 1mile
    - 지상 10 miles (H = 10 cells high )높이까지 계산
    - H*(4/3)ㅠR^2의 공식을 사용해 지구의 표면 면적을 찾을 수 있음
    - 약 5*108 cells의 각 점에 해당하는 기상값을 찾아야 함
    - 반복 연산으로 다음 시점의 결과를 얻음
    - 한 시점에 대한 계산량이 1,000FLOP(실수합/곱 연산)만큼 필요하다고 가정할 때, 전체적인 계산량은 10^11임
    - 1분간격으로 하루를 계산 -> 주간, 7days = 10^4회 반복연산
    - 총 10^15 FLOP 계산 필요
    - 컴퓨터의 연산 처리 능력에 따라 결과값을 얻을 수 있는 시간이 다름
      - 1Giga (GFLOPS) : 초당 10억 번의 술수연산이 가능
      - 1Tera (TFLOPS) : 기가보다 1000배 빠름
      - 1Peta (PFLOPS) : 테라보다 1000배 빠름
      - 현재 가장 빠른 컴퓨터의 성능은 약 100Peta FLOPS임
      - 초당 1GFLOPS 성능을 가진 컴퓨터 -> 10^15 FLOP 계산 -> 10일 뒤 결과가 나옴 -> 일주일 뒤 예보를 10일 뒤 예측함으로 이 예측은 의미가 없음
      - 만일 5분 내에 이 연산을 완료하려면 초당 3.4TFLOPS 계산능력의 컴퓨터가 있어야 함
    - 3차원 지구 영역 분할
      - 지표면 분할 (가로*세로)
      - 수직면 분할(대기권 높이)
      - 분할 시간 별기상 데이터 계산
      - 필요 구간 내 전체 자료 생성
      - 시뮬레이션을 통해 기상 정보 및 기후 정보를 예측할 수 있음
    - 전지구 기후 예측 모델, 연산
      - 각 셀마다 존재하는 경도, 위도, 고도 및 시간별 변동 사항과 온도, 습도, 기압, 풍속 등을 고려해야 함
      - 지구 표면 또는 공간을 조각으로 나누어 해당 위치의 기상 정보 관측이 필요함
      - 알고리즘을 사용해 매 시점 및 연속적인 기후 예측에 대한 연산이 필요함
    - 지구 기후 예측 모델, 연산 (지표면 도달 적외선량)
      - 수퍼 컴퓽터 등을 이용해 긴 시간의 연산을 통해 얻어지는 결과물의 예시
    - 지구 기후 예측 연산
      - 하나의 셀을 1분 단위로 시뮬레이션 -> 100 Flops/s
      - 실시간 예측 8 Gflop/s
      - 일주일 뒤 예측 56 Gflop/s
      - 50년 뒤 예측(24시간) 4.8 Tflop/s
      - 50년 뒤 예측(12시간) 280 Tflop/s
      - 병렬 연산을 통해 복잡한 연산을 빠르게 계산하고 정밀하게 시뮬레이션 할 수 있음
      - 대기권의 변화, 태양의 변화, 빙하의 변화 추적, 이산화 탄소량의 순화 과정 등 다양한 기후 자료를 컴퓨터 시뮬레이션하고 있음
      - 정밀도를 높이기 위해서는 계산이 더욱 늘어남
      - 정밀도를 높이기 작업의 선택여부는 또 다른 문제로 판단할 필요가 있음

  - 우주선 지구대기권 진입과정 계산

    - 대기권에 진입하는 각도에 따라 마찰열이 다르게 나타남
    - 대기권이 하나의 구를 형성한다고 할 때 이것의 수직방향(접선)으로 진입할 때가 제일 충격이 덜 함. 표면의 옆으로 진입할 때에는 훨씬 저항이 커져서 상당히 많은 열이 생길 수 있음
    - 로케트의 진입 각도를 시뮬레이션
    - 옛날 컴퓨터 : 약 12달 소요, 수퍼 컴퓨터 : 20일 소요 -> 18~20배 속도 향상
    - 병렬 컴퓨팅을 통해 향상된 연산 능력은 로케트와 우주선의 발사에 맞춰 시뮬레이션을 가능하게 함

  - 포털사이트, 주식 거래 등 병렬 컴퓨팅은 우리 생활 주변에서 다양하게 활용되고 있음